webpackJsonp([1],{109:function(e,t,n){var i=n(2)(n(297),n(617),null,null,null);e.exports=i.exports},13:function(e,t,n){"use strict";var i=n(44),r=n.n(i),s=n(72),a=n.n(s),o=n(4),u=n.n(o),c=n(28),l=n.n(c),d=n(327),p=n.n(d),f=n(334),m=n.n(f),h=n(333),v=n.n(h),g=n(331),b=n.n(g),_=n(332),y=n.n(_),j=function(){function e(t){b()(this,e),this.io=t}return y()(e,[{key:"root",get:function(){return this.io.root}},{key:"headers",get:function(){return this.io.headers}}]),e}(),x=function(e){function t(){return b()(this,t),m()(this,(t.__proto__||p()(t)).apply(this,arguments))}return v()(t,e),y()(t,[{key:"totalSum",value:function(e){var t=e.dateFrom,n=e.dateTo,i=e.interval;return fetch(this.root+"/total_sum/?from="+t+"&to="+n+"&interval="+i,{credentials:"same-origin"}).then(function(e){return e.json()})}},{key:"tagSum",value:function(e){var t=e.dateFrom,n=e.dateTo,i=e.tagCount,r=e.negativeFirst,s=e.tags,a=void 0===s?[]:s,o=new URLSearchParams;o.append("from",t),o.append("to",n),o.append("tagCount",i),o.append("negativeFirst",Number(r));var u=!0,c=!1,d=void 0;try{for(var p,f=l()(a);!(u=(p=f.next()).done);u=!0){var m=p.value;o.append("tags",m)}}catch(e){c=!0,d=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw d}}return fetch(this.root+"/tag_sum/?"+o,{credentials:"same-origin"}).then(function(e){return e.json()})}}]),t}(j),k=function(e){function t(){return b()(this,t),m()(this,(t.__proto__||p()(t)).apply(this,arguments))}return v()(t,e),y()(t,[{key:"fetchMonth",value:function(e){var t=e.year,n=e.month;return fetch(this.root+"/items/?year="+t+"&month="+n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return e.forEach(function(e){e.items.forEach(function(t){t.date=e.date})}),e})}},{key:"fetchRange",value:function(e){var t=e.dateFrom,n=e.dateTo;return fetch(this.root+"/items/?from="+t+"&to="+n,{credentials:"same-origin"}).then(function(e){return e.json()})}},{key:"add",value:function(e){return e?fetch(this.root+"/items/",u()({method:"POST",credentials:"same-origin"},this.io.toJson(e))).then(function(e){return e.json()}).then(function(e){return e.item.date=e.date,e}):a.a.resolve()}},{key:"addFromFile",value:function(e){var t=new FormData;return t.append("file",e),fetch(this.root+"/items/upload/",{method:"POST",credentials:"same-origin",headers:this.headers,body:t}).then(function(e){return e.json()})}},{key:"remove",value:function(e){return e.length?fetch(this.root+"/items/",u()({method:"DELETE",credentials:"same-origin"},this.io.toJson({items:e}))).then(function(e){return e.json()}):a.a.resolve()}},{key:"edit",value:function(e){return fetch(this.root+"/items/"+e.id+"/",u()({method:"PATCH",credentials:"same-origin"},this.io.toJson(e))).then(function(e){return e.json()})}}]),t}(j),w=function(e){function t(){return b()(this,t),m()(this,(t.__proto__||p()(t)).apply(this,arguments))}return v()(t,e),y()(t,[{key:"autocomplete",value:function(e){return e?fetch(this.root+"/autocomplete/?term="+e,{credentials:"same-origin"}).then(function(e){return e.json()}):[]}}]),t}(j),C=function(){function e(){var t=this;b()(this,e),this.headers=null,this.root="",this.items=null,this.tags=null,this.stats=null,this.initialized=fetch("./api/settings",{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t.root=e.root+"/api",t.headers=new Headers({"X-CSRFToken":e.csrftoken}),t.items=new k(t),t.tags=new w(t),t.stats=new x(t)})}return y()(e,[{key:"toJson",value:function(e){return{body:new Blob([r()(e)],{type:"application/json"}),headers:this.headers}}}]),e}();t.a=new C},291:function(e,t,n){var i=n(2)(n(300),n(613),null,null,null);e.exports=i.exports},292:function(e,t,n){function i(e){n(445)}var r=n(2)(n(304),n(615),i,null,null);e.exports=r.exports},293:function(e,t,n){function i(e){n(443)}var r=n(2)(n(306),n(612),i,null,null);e.exports=r.exports},294:function(e,t,n){"use strict";var i=n(7),r=n(619),s=n(592),a=n.n(s),o=n(593),u=n.n(o),c=n(594),l=n.n(c),d=n(596),p=n.n(d),f=n(70),m=n(598),h=n.n(m),v=n(599),g=n.n(v),b=n(600),_=n.n(b),y=n(601),j=n.n(y);i.default.use(r.a),t.a=new r.a({mode:"hash",routes:[{name:"index",path:"/",redirect:function(){var e=f.a.state.itemList.currentDate;return{name:"item:list:year-month",params:{year:e.format("YYYY"),month:e.format("MM")}}}},{name:"item:list:year-month",path:"/:year(\\d+)/:month(\\d+)/",components:{default:l.a,header:p.a}},{name:"graph:sum",path:"/graph/total/",components:{default:_.a,header:j.a}},{name:"grap:tags",path:"/graph/tags/",components:{default:h.a,header:g.a}},{name:"import-export",path:"/import-export/",components:{default:a.a,header:u.a}}]})},295:function(e,t,n){function i(e){n(442)}var r=n(2)(n(296),n(611),i,null,null);e.exports=r.exports},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(4),u=n.n(o),c=n(9),l=n(602),d=n.n(l),p=n(13),f=n(597),m=n.n(f);t.default={name:"app",components:{Sidebar:m.a,HeaderBar:d.a},computed:u()({},n.i(c.a)("ui",["overlayVisible","spinnerVisible"]),n.i(c.b)("app",["isInitializing"])),methods:u()({},n.i(c.c)("ui",["hideUi"]),n.i(c.c)("app",["initialized"])),watch:{$route:function(e){this.hideUi()}},created:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.initialized;case 2:e.initialized();case 3:case"end":return t.stop()}},t,e)}))()}}},297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{dateFrom:{required:!0},dateTo:{required:!0},interval:{required:!1}},computed:{showInterval:function(){return void 0!==this.interval}},methods:{onChanged:function(e,t){this.$emit("change",e,t)}}}},298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(4),u=n.n(o),c=n(9),l=n(448),d=n.n(l),p=n(109),f=n.n(p);t.default={components:{Calendar:f.a},data:function(){return{progress:"",importProgress:"",importedFile:null}},computed:u()({},n.i(c.b)("importExport",["isExporting","isImporting","dateFrom","dateTo","exportedData"]),n.i(c.a)("importExport",["exportFilename","importError","importCount"])),methods:u()({},n.i(c.c)("importExport",["doExport","setProperty","doImport","parseFile","hideUi"]),{onChanged:function(e,t){this.setProperty({key:e,value:t})},setImportedFile:function(e){this.importedFile=e},doExportWrapped:function(e){var t=this;return a()(r.a.mark(function e(){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function e(){setTimeout(function(){if(t.isExporting){var n=(t.progress.length+1)%4;t.progress=".".repeat(n),setTimeout(e,400)}else t.progress=""})},n(),e.next=4,t.doExport();case 4:i=new Blob(t.exportedData,{type:"application/octet-stream"}),d.a.saveAs(i,t.exportFilename);case 6:case"end":return e.stop()}},e,t)}))()},doImportWrapped:function(e){var t=this;!function e(){setTimeout(function(){if(t.isImporting){var n=(t.importProgress.length+1)%4;t.importProgress=".".repeat(n),setTimeout(e,400)}else t.importProgress=""})}(),this.doImport(this.importedFile)}}),beforeRouteLeave:function(e,t,n){this.hideUi(),n()}}},299:function(e,t){},300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),s=n(293),a=n.n(s),o=(n(13),n(9));t.default={components:{Tags:a.a},props:{date:{type:String,required:!1,default:function(){return""}},price:{type:[Number,String],required:!1,default:function(){return null}},tags:{type:Array,required:!1,default:function(){return[]}},disabled:Boolean,datehidden:String},data:function(){return{pPrice:this.price,pTags:this.tags.slice(),pDate:this.date}},methods:r()({},n.i(o.a)("tags",["autocomplete"]),{dateChanged:function(e){this.pDate=e},rawPrice:function(){var e=this.$refs.price;e.select();var t=window.getSelection().toString();e.blur();var n=t[0];return"+"!==n&&"-"!==n&&(t=-1*Number(t)),t},submit:function(){var e=this,t={price:this.rawPrice(),date:this.pDate,tags:this.pTags};this.$emit("submit",{item:t,callback:function(){e.pPrice=null,e.pTags.splice(0,e.pTags.length)}})},focusPrice:function(){this.$refs.price.focus()}}),watch:{date:function(e){this.pDate=e}}}},301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n.n(i),s=n(335),a=n.n(s),o=n(14),u=n.n(o),c=n(4),l=n.n(c),d=n(0),p=(n.n(d),n(70),n(291)),f=n.n(p),m=n(595),h=n.n(m),v=(n(13),n(9));t.default={components:{ItemForm:f.a,DateItems:h.a},computed:l()({},n.i(v.b)("itemList",["isSubmitting","dates","today"]),n.i(v.a)("itemList",["canNavigate"]),n.i(v.b)("app",["isInitializing"])),methods:l()({},n.i(v.c)("itemList",["setCurrentDate","setToday","submit"]),{doSubmit:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return u()(r.a.mark(function t(){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.submit.apply(e,a()(n));case 2:i=t.sent,e.$nextTick(function(){var e=document.getElementById("item-"+i);null!==e&&e.scrollIntoView(!1)});case 4:case"end":return t.stop()}},t,e)}))()}}),created:function(){this.setCurrentDate(this.$route.params)},watch:{$route:function(e){this.setCurrentDate(e.params)}}}},302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(4),u=n.n(o),c=n(291),l=n.n(c),d=(n(13),n(9)),p=Intl.NumberFormat();t.default={props:{index:Number},components:{ItemForm:l.a},data:function(){return{editors:{},submitting:{}}},computed:u()({},n.i(d.b)("itemList",{model:function(e){return e.dates[this.index]},isEditing:"isEditing",isDeleting:"isDeleting"}),n.i(d.a)("itemList",["isSelected"]),{date:function(){return this.model.date},items:function(){return this.model.items},dailyExpense:function(){return this.items.reduce(function(e,t){return t.price<0?e+t.price:e},0)}}),methods:u()({},n.i(d.c)("itemList",["selectItem","editItem"]),{selectSelf:function(e){this.isDeleting?this.selectItem(e):this.isEditing&&(this.editors[e]||this.$set(this.editors,e,!0))},editSelf:function(e,t){this.isEditing&&(t.stopPropagation(),this.editors[e]?this.$delete(this.editors,e):this.$set(this.editors,e,!0))},submit:function(e,t,n){var i=this,s=n.item;return a()(r.a.mark(function n(){var a;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.id,i.$set(i.submitting,a,!0),n.next=4,i.editItem({itemIndex:e,dateIndex:i.index,model:u()({id:a},s)});case 4:i.$delete(i.submitting,a),i.$delete(i.editors,a);case 6:case"end":return n.stop()}},n,i)}))()}}),filters:{money:function(e){return e=p.format(e),"-"!==e[0]&&(e="+"+e),e}},watch:{isEditing:function(){this.editors={}}}}},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),s=n(0),a=(n.n(s),n(9));t.default={computed:r()({},n.i(a.b)("itemList",["isEditing","isDeleting","currentDate"]),n.i(a.a)("itemList",["isEditingDisabled","isDeletingDisabled","canNavigate","currentDateFormatted"])),methods:r()({},n.i(a.c)("itemList",["toggleEditing","toggleDeleting","deleteSelected"]),{seekMonth:function(e){var t=this.currentDate.clone();if(e>0)t.add(1,"month");else{if(!(e<0))throw new Error("direction must be +1 or -1");t.subtract(1,"month")}this.$router.push({name:"item:list:year-month",params:{year:t.format("YYYY"),month:t.format("MM")}})}})}},304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{visible:{required:!0,default:function(){return!1}}},methods:{hide:function(){this.$emit("hide")}}}},305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),s=n(9);t.default={computed:r()({},n.i(s.b)("ui",{visible:"sidebarVisible"})),methods:r()({},n.i(s.c)("ui",{toggle:"toggleSidebar"}))}},306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(72),r=n.n(i),s=n(110),a=n.n(s),o=new a.a(["Backspace","Delete"]);t.default={props:{tags:{type:Array,required:!1,default:function(){return[]}},choices:{type:[Function,Array],required:!1,default:function(){return[]}},delimiters:{type:Array,required:!1,default:function(){return["Tab","Enter"]}},disabled:{type:Boolean,required:!1,default:function(){return!1}}},data:function(){return{pDelimiters:new a.a(this.delimiters),pTags:this.tags,currentTag:"",conflict:!1,pChoices:this.choices,choiceListVisible:!1,dropup:!1,selectedIndex:-1,pressedKey:null,deferBlur:!1}},methods:{keydown:function(e){var t=this;if(this.pressedKey=e.key,"Backspace"===e.key?this.currentTag||(e.preventDefault(),this.currentTag=this.pTags.pop(),this.conflict=!1):this.pDelimiters.has(e.key)&&(e.preventDefault(),this.choiceListVisible=!1,this.currentTag&&this.currentTag.length>0?(this.add(),this.focusInput()):this.$emit("blur")),this.choiceListVisible){var n=e.key;if(this.dropup&&("ArrowDown"===n?n="ArrowUp":"ArrowUp"===n&&(n="ArrowDown")),"ArrowDown"===n)e.preventDefault(),this.selectedIndex=(this.selectedIndex+1)%this.pChoices.length,this.currentTag=this.pChoices[this.selectedIndex],this.$nextTick(function(){var e=t.$refs.choices[t.selectedIndex],n=t.$refs.choiceList,i=n.getBoundingClientRect().height,r=void 0;if(t.dropup){r=n.scrollHeight-i+e.offsetTop,r>n.scrollTop&&r<n.scrollTop+i||(n.scrollTop=r)}else{var s=e.getBoundingClientRect().height;r=e.offsetTop+s,r<n.scrollTop?n.scrollTop=r-s:r>n.scrollTop+i&&(n.scrollTop=r-i+2)}});else if("ArrowUp"===n){e.preventDefault();var i=this.pChoices.length;this.selectedIndex=(Math.max(-1,this.selectedIndex-1)%i+i)%i,this.currentTag=this.pChoices[this.selectedIndex],this.$nextTick(function(){var e=t.$refs.choices[t.selectedIndex],n=e.getBoundingClientRect().height,i=t.$refs.choiceList,r=i.getBoundingClientRect().height,s=void 0;if(t.dropup){s=i.scrollHeight-r+e.offsetTop+n,s<i.scrollTop?i.scrollTop=s-n:s>i.scrollTop+r&&(i.scrollTop=s-r+5)}else(s=e.offsetTop)>i.scrollTop&&s<i.scrollTop+r||(i.scrollTop=s)})}else(1===e.key.length||o.has(e.key))&&(this.resolveRequired=!0)}else this.resolveRequired=!0},input:function(e){this.resolveRequired=!0},add:function(e,t){if(t&&(this.currentTag=t,this.deferBlur=!1),!this.deferBlur&&(this.conflict=!1,this.choiceListVisible=!1,this.currentTag&&this.currentTag.length>0)){var n=this.currentTag.trim();n.length>0&&(-1===this.pTags.indexOf(n)?(this.pTags.push(n),this.currentTag="",this.focusInput()):this.conflict=!0)}this.deferBlur=!1},remove:function(e,t){this.disabled||(e.stopPropagation(),this.pTags.splice(this.pTags.indexOf(t),1),this.conflict=!1)},focusInput:function(){var e=this.$refs.tagInput;e&&e.focus()},resolveChoices:function(){var e=this,t=void 0;try{t=this.choices(this.currentTag)}catch(e){return}this.choices&&r.a.resolve(t).then(function(t){e.pChoices=t,e.selectedIndex=-1,e.choiceListVisible=e.pChoices.length>0,e.dropup=e.$refs.tagInput.getBoundingClientRect().top/window.innerHeight>=.4})}},created:function(){var e=this;this.resolveRequired=!1,this.$nextTick(function(){var t=e.$refs.tagInput;t.style.width="2px",t.style.width=t.scrollWidth+2+"px"})},updated:function(){var e=this.$refs.tagInput;e&&(e.style.width="2px",e.style.width=e.scrollWidth+2+"px"),this.resolveRequired&&(this.resolveChoices(),this.resolveRequired=!1)}}},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(4),u=n.n(o),c=n(9),l=n(109),d=n.n(l),p=n(312),f=(n(13),n(292)),m=n.n(f),h=n(293),v=n.n(h);t.default={components:{HorizontalBarChart:p.a,SettingsBar:m.a,Calendar:d.a,TagInput:v.a},data:function(){return{chart:{}}},computed:u()({},n.i(c.b)("tagSum",["isCalendarVisible","dateFrom","dateTo","tagCount","negativeFirst","tags"]),n.i(c.a)("tagSum",["chartData"])),methods:u()({},n.i(c.c)("tagSum",["hideUi","setProperty","query"]),n.i(c.a)("tags",["autocomplete"]),{onChanged:function(e,t){this.setProperty({key:e,value:t})},doQuery:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query();case 2:e.chart=e.chartData;case 3:case"end":return t.stop()}},t,e)}))()}}),mounted:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query();case 2:e.chart=e.chartData;case 3:case"end":return t.stop()}},t,e)}))()},beforeRouteLeave:function(e,t,n){this.hideUi(),n()},watch:{tags:function(e){this.setProperty({key:"tags",value:e})}}}},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),s=n(9);t.default={methods:r()({},n.i(s.c)("tagSum",["toggleCalendar"]))}},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(4),u=n.n(o),c=n(9),l=n(313),d=n(292),p=n.n(d),f=n(109),m=n.n(f);t.default={components:{LineChart:l.a,SettingsBar:p.a,Calendar:m.a},data:function(){return{chart:{}}},computed:u()({},n.i(c.b)("totalSum",["isCalendarVisible","dateFrom","dateTo","interval"]),n.i(c.a)("totalSum",["chartData"])),methods:u()({},n.i(c.c)("totalSum",["hideUi","setProperty","query"]),{onChanged:function(e,t){this.setProperty({key:e,value:t})},doQuery:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query();case 2:e.chart=e.chartData;case 3:case"end":return t.stop()}},t,e)}))()}}),mounted:function(){var e=this;return a()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.query();case 2:e.chart=e.chartData;case 3:case"end":return t.stop()}},t,e)}))()},beforeRouteLeave:function(e,t,n){this.hideUi(),n()}}},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),s=n(9);t.default={methods:r()({},n.i(s.c)("totalSum",["toggleCalendar"]))}},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n.n(i),s=n(9);t.default={methods:r()({},n.i(s.c)("ui",["toggleSidebar"]))}},312:function(e,t,n){"use strict";var i=n(290);n.n(i);t.a=i.HorizontalBar.extend({mixins:[i.mixins.reactiveProp],props:["chartData","options"],data:function(){return{defaultOptions:{responsive:!0,maintainAspectRatio:!1,height:"100%",scales:{xAxes:[{ticks:{beginAtZero:!0},gridLines:{display:!0}}]}}}},mounted:function(){this.renderChart(this.chartData,this.options)}})},313:function(e,t,n){"use strict";var i=n(290),r=(n.n(i),i.mixins.reactiveProp);t.a=i.Line.extend({mixins:[r],props:["chartData","options"],data:function(){return{defaultOptions:{responsive:!0,maintainAspectRatio:!1,height:"100%"}}},mounted:function(){this.renderChart(this.chartData,this.options)}})},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=n(295),s=n.n(r),a=n(294),o=n(70);i.default.config.productionTip=!1,new i.default({el:"#app",router:a.a,store:o.a,render:function(e){return e(s.a)}})},315:function(e,t,n){"use strict";t.a={namespaced:!0,state:{isInitializing:!0},mutations:{initialized:function(e,t){return e.isInitializing=!t}},actions:{initialized:function(e){return(0,e.commit)("initialized",!0)}}}},316:function(e,t,n){"use strict";var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(44),u=n.n(o),c=n(28),l=n.n(c),d=n(0),p=n.n(d),f=n(13);t.a={namespaced:!0,state:{isExporting:!1,isImporting:!1,dateFrom:p()().subtract(1,"month").format("YYYY-MM-DD"),dateTo:p()().format("YYYY-MM-DD"),exportType:"csv",exportedData:[],importResponse:{}},getters:{exportFilename:function(e){return"wimm_export_"+e.dateFrom+"_"+e.dateTo+"."+e.exportType},importError:function(e){return e.importResponse.error},importCount:function(e){return e.importResponse.imported}},mutations:{setProperty:function(e,t){var n=t.key,i=t.value;return e[n]=i},setData:function(e,t){var n=t.models,i=["date,price,tags\n"];if("csv"===e.exportType){var r=!0,s=!1,a=void 0;try{for(var o,c=l()(n);!(r=(o=c.next()).done);r=!0){var d=o.value,p=d.date,f=d.items,m=!0,h=!1,v=void 0;try{for(var g,b=l()(f);!(m=(g=b.next()).done);m=!0){var _=g.value,y=_.price,j=_.tags;j.sort();var x=u()(j.join(","));i.push(p+","+y+","+x+"\n")}}catch(e){h=!0,v=e}finally{try{!m&&b.return&&b.return()}finally{if(h)throw v}}}}catch(e){s=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}}e.exportedData=i},hideUi:function(e){e.exportedData=[],e.importResponse={}}},actions:{setProperty:function(e,t){return(0,e.commit)("setProperty",t)},doExport:function(e){var t=this,n=e.commit,i=e.state;return a()(r.a.mark(function e(){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n("setProperty",{key:"isExporting",value:!0}),e.prev=1,e.next=4,f.a.items.fetchRange({dateFrom:i.dateFrom,dateTo:i.dateTo});case 4:s=e.sent,n("setData",{models:s});case 6:return e.prev=6,n("setProperty",{key:"isExporting",value:!1}),e.finish(6);case 9:case"end":return e.stop()}},e,t,[[1,,6,9]])}))()},doImport:function(e,t){var n=this,i=e.commit;return a()(r.a.mark(function e(){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i("setProperty",{key:"isImporting",value:!0}),e.prev=1,e.next=4,f.a.items.addFromFile(t);case 4:s=e.sent,i("setProperty",{key:"importResponse",value:s});case 6:return e.prev=6,i("setProperty",{key:"isImporting",value:!1}),e.finish(6);case 9:case"end":return e.stop()}},e,n,[[1,,6,9]])}))()},hideUi:function(e){(0,e.commit)("hideUi")}}}},317:function(e,t,n){"use strict";var i=n(4),r=n.n(i),s=n(71),a=n.n(s),o=n(15),u=n.n(o),c=n(14),l=n.n(c),d=n(73),p=n.n(d),f=n(28),m=n.n(f),h=n(110),v=n.n(h),g=n(0),b=n.n(g),_=n(7),y=n(13);t.a={namespaced:!0,state:{currentDate:b()(),today:b()().format("YYYY-MM-DD"),isEditing:!1,isDeleting:!1,isLoading:!1,isSubmitting:!1,dates:[],selected:new v.a},getters:{isEditingDisabled:function(e){return e.isDeleting},isDeletingDisabled:function(e){return e.isEditing},canNavigate:function(e){return!(e.isEditing||e.isDeleting)},currentDateFormatted:function(e){return e.currentDate?e.currentDate.format("YYYY / MMMM"):""},isSelected:function(e){return function(t){return void 0!==e.selected[t]}}},mutations:{toggle:function(e,t){e[t]=!e[t],e.selected={}},setCurrentDate:function(e,t){e.currentDate=t;var n=b()().format("YYYY-MM-DD");t.format("YYYY-MM-DD")===n?e.today=n:e.today=t.date(1).format("YYYY-MM-DD")},setDates:function(e,t){e.dates=t,e.isEditing=!1,e.isDeleting=!1,e.isLoading=!1,e.selected={}},fetchStarted:function(e){return e.isLoading=!0},selectItem:function(e,t){e.selected[t]?_.default.delete(e.selected,t):_.default.set(e.selected,t,!0)},setToday:function(e,t){return e.today=t},setBoolean:function(e,t){var n=t.key,i=t.value;return e[n]=i},cleanDates:function(e){var t=e.dates,n=e.selected,i=!0,r=!1,s=void 0;try{for(var a,o=m()(t);!(i=(a=o.next()).done);i=!0){var u=a.value;u.items=u.items.filter(function(e){return void 0===n[e.id]})}}catch(e){r=!0,s=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw s}}e.dates=t.filter(function(e){return e.items.length>0}),e.selected={}},pushItem:function(e,t){var n=e.dates.filter(function(e){return e.date===t.date}),i=p()(n,1),r=i[0];r?r.items.push(t.item):b()(t.date,"YYYY-MM-DD").format("YYYY-MM")===b()(e.today,"YYYY-MM-DD").format("YYYY-MM")&&(e.dates.push({date:t.date,items:[t.item]}),e.dates.sort(function(e,t){return(e.date>t.date)-(e.date<t.date)}))},editItem:function(e,t){var n=t.itemIndex,i=t.dateIndex,r=t.item,s=e.dates[i];if(r.date===s.date)s.items[n]=r;else{s.items.splice(n,1),s.items.length||e.dates.splice(i,1);var a=e.dates.filter(function(e){return e.date===r.date});s=p()(a,1)[0],s?s.items.push(r):e.dates.push({date:r.date,items:[r]})}e.dates.sort(function(e,t){return(e.date>t.date)-(e.date<t.date)})}},actions:{toggleEditing:function(e){return(0,e.commit)("toggle","isEditing")},toggleDeleting:function(e){return(0,e.commit)("toggle","isDeleting")},setCurrentDate:function(e,t){var n=this,i=e.commit,r=t.year,s=t.month;return l()(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=b()().year(r).month(s).subtract(1,"month"),i("fetchStarted"),e.next=4,y.a.items.fetchMonth({year:r,month:s});case 4:a=e.sent,a.sort(function(e,t){return(e.date>t.date)-(e.date<t.date)}).forEach(function(e){return e.items.forEach(function(e){e.price=Number(e.price)})}),i("setDates",a),i("setCurrentDate",t);case 8:case"end":return e.stop()}},e,n)}))()},setToday:function(e,t){return(0,e.commit)("setToday",t)},selectItem:function(e,t){return(0,e.commit)("selectItem",t)},submit:function(e,t){var n=this,i=e.commit,r=t.item,s=t.callback;return l()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i("setBoolean",{key:"isSubmitting",value:!0}),e.next=3,y.a.items.add(r);case 3:return t=e.sent,t.item.price=Number(t.item.price),i("pushItem",t),s(),i("setBoolean",{key:"isSubmitting",value:!1}),e.abrupt("return",t.item.id);case 9:case"end":return e.stop()}},e,n)}))()},deleteSelected:function(e){var t=this,n=e.commit,i=e.state;return l()(u.a.mark(function e(){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a()(i.selected),n("setBoolean",{key:"isLoading",value:!0}),e.next=4,y.a.items.remove(r);case 4:n("cleanDates"),n("setBoolean",{key:"isLoading",value:!1});case 6:case"end":return e.stop()}},e,t)}))()},editItem:function(e,t){var n=this,i=e.commit;return l()(u.a.mark(function e(){var s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.items.edit(t.model);case 2:s=e.sent,i("editItem",r()({item:s},t));case 4:case"end":return e.stop()}},e,n)}))()}}}},318:function(e,t,n){"use strict";var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(28),u=n.n(o),c=n(73),l=n.n(c),d=n(0),p=n.n(d),f=n(13);t.a={namespaced:!0,state:{isCalendarVisible:!1,dateFrom:p()().subtract(1,"year").format("YYYY-MM-DD"),dateTo:p()().format("YYYY-MM-DD"),labels:[],values:[],tagCount:10,negativeFirst:!0,tags:[]},mutations:{toggleCalendar:function(e){return e.isCalendarVisible=!e.isCalendarVisible},hideUi:function(e){return e.isCalendarVisible=!1},setProperty:function(e,t){var n=t.key,i=t.value;return e[n]=i},setValues:function(e,t){var n=[],i=[],r=!0,s=!1,a=void 0;try{for(var o,c=u()(t);!(r=(o=c.next()).done);r=!0){var d=o.value,p=l()(d,2),f=p[0],m=p[1];n.push(f),i.push(e.negativeFirst?-1*m:m)}}catch(e){s=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}e.labels=n,e.values=i}},getters:{chartData:function(e){var t=e.dateFrom,n=e.dateTo;return{labels:e.labels,datasets:[{label:t+" -- "+n,backgroundColor:"#39a2bf",borderColor:"#286d81",data:e.values}]}}},actions:{toggleCalendar:function(e){return(0,e.commit)("toggleCalendar")},hideUi:function(e){return(0,e.commit)("hideUi")},query:function(e){var t=this,n=e.commit,i=e.state;return a()(r.a.mark(function e(){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.stats.tagSum({dateFrom:i.dateFrom,dateTo:i.dateTo,tagCount:i.tagCount,negativeFirst:i.negativeFirst,tags:i.tags});case 2:s=e.sent,n("setValues",s);case 4:case"end":return e.stop()}},e,t)}))()},setProperty:function(e,t){return(0,e.commit)("setProperty",t)}}}},319:function(e,t,n){"use strict";var i=n(13);t.a={namespaced:!0,getters:{autocomplete:function(e){return function(e){return i.a.tags.autocomplete(e)}}}}},320:function(e,t,n){"use strict";var i=n(15),r=n.n(i),s=n(14),a=n.n(s),o=n(28),u=n.n(o),c=n(73),l=n.n(c),d=n(0),p=n.n(d),f=n(13);t.a={namespaced:!0,state:{isCalendarVisible:!1,dateFrom:p()().subtract(1,"year").format("YYYY-MM-DD"),dateTo:p()().format("YYYY-MM-DD"),interval:"weeks",labels:[],values:[],i:[]},mutations:{toggleCalendar:function(e){return e.isCalendarVisible=!e.isCalendarVisible},hideUi:function(e){return e.isCalendarVisible=!1},setProperty:function(e,t){var n=t.key,i=t.value;return e[n]=i},setValues:function(e,t){var n=[],i=[],r=0,s=!0,a=!1,o=void 0;try{for(var c,d=u()(t);!(s=(c=d.next()).done);s=!0){var p=c.value,f=l()(p,2),m=f[0];r+=f[1],n.push(m),i.push(r)}}catch(e){a=!0,o=e}finally{try{!s&&d.return&&d.return()}finally{if(a)throw o}}e.labels=n,e.values=i}},getters:{chartData:function(e){var t=e.dateFrom,n=e.dateTo,i=e.interval;return{labels:e.labels,datasets:[{label:t+" -- "+n+" ("+i+")",backgroundColor:"#39a2bf",borderColor:"#286d81",data:e.values}]}}},actions:{toggleCalendar:function(e){return(0,e.commit)("toggleCalendar")},hideUi:function(e){return(0,e.commit)("hideUi")},query:function(e){var t=this,n=e.commit,i=e.state;return a()(r.a.mark(function e(){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.stats.totalSum({dateFrom:i.dateFrom,dateTo:i.dateTo,interval:i.interval});case 2:s=e.sent,n("setValues",s);case 4:case"end":return e.stop()}},e,t)}))()},setProperty:function(e,t){return(0,e.commit)("setProperty",t)}}}},321:function(e,t,n){"use strict";t.a={namespaced:!0,state:{sidebarVisible:!1},getters:{overlayVisible:function(e,t,n){return e.sidebarVisible||n.app.isInitializing||n.itemList.isLoading||n.totalSum.isCalendarVisible||n.tagSum.isCalendarVisible},spinnerVisible:function(e,t,n){return n.app.isInitializing||n.itemList.isLoading}},mutations:{toggle:function(e,t){return e[t]=!e[t]},hideUi:function(e){return e.sidebarVisible=!1}},actions:{toggleSidebar:function(e){return(0,e.commit)("toggle","sidebarVisible")},hideUi:function(e){return(0,e.commit)("hideUi")}}}},434:function(e,t){},435:function(e,t){},436:function(e,t){},437:function(e,t){},438:function(e,t){},439:function(e,t){},440:function(e,t){},441:function(e,t){},442:function(e,t){},443:function(e,t){},444:function(e,t){},445:function(e,t){},446:function(e,t){},447:function(e,t){},576:function(e,t,n){function i(e){return n(r(e))}function r(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":175,"./af.js":175,"./ar":182,"./ar-dz":176,"./ar-dz.js":176,"./ar-kw":177,"./ar-kw.js":177,"./ar-ly":178,"./ar-ly.js":178,"./ar-ma":179,"./ar-ma.js":179,"./ar-sa":180,"./ar-sa.js":180,"./ar-tn":181,"./ar-tn.js":181,"./ar.js":182,"./az":183,"./az.js":183,"./be":184,"./be.js":184,"./bg":185,"./bg.js":185,"./bn":186,"./bn.js":186,"./bo":187,"./bo.js":187,"./br":188,"./br.js":188,"./bs":189,"./bs.js":189,"./ca":190,"./ca.js":190,"./cs":191,"./cs.js":191,"./cv":192,"./cv.js":192,"./cy":193,"./cy.js":193,"./da":194,"./da.js":194,"./de":197,"./de-at":195,"./de-at.js":195,"./de-ch":196,"./de-ch.js":196,"./de.js":197,"./dv":198,"./dv.js":198,"./el":199,"./el.js":199,"./en-au":200,"./en-au.js":200,"./en-ca":201,"./en-ca.js":201,"./en-gb":202,"./en-gb.js":202,"./en-ie":203,"./en-ie.js":203,"./en-nz":204,"./en-nz.js":204,"./eo":205,"./eo.js":205,"./es":207,"./es-do":206,"./es-do.js":206,"./es.js":207,"./et":208,"./et.js":208,"./eu":209,"./eu.js":209,"./fa":210,"./fa.js":210,"./fi":211,"./fi.js":211,"./fo":212,"./fo.js":212,"./fr":215,"./fr-ca":213,"./fr-ca.js":213,"./fr-ch":214,"./fr-ch.js":214,"./fr.js":215,"./fy":216,"./fy.js":216,"./gd":217,"./gd.js":217,"./gl":218,"./gl.js":218,"./gom-latn":219,"./gom-latn.js":219,"./he":220,"./he.js":220,"./hi":221,"./hi.js":221,"./hr":222,"./hr.js":222,"./hu":223,"./hu.js":223,"./hy-am":224,"./hy-am.js":224,"./id":225,"./id.js":225,"./is":226,"./is.js":226,"./it":227,"./it.js":227,"./ja":228,"./ja.js":228,"./jv":229,"./jv.js":229,"./ka":230,"./ka.js":230,"./kk":231,"./kk.js":231,"./km":232,"./km.js":232,"./kn":233,"./kn.js":233,"./ko":234,"./ko.js":234,"./ky":235,"./ky.js":235,"./lb":236,"./lb.js":236,"./lo":237,"./lo.js":237,"./lt":238,"./lt.js":238,"./lv":239,"./lv.js":239,"./me":240,"./me.js":240,"./mi":241,"./mi.js":241,"./mk":242,"./mk.js":242,"./ml":243,"./ml.js":243,"./mr":244,"./mr.js":244,"./ms":246,"./ms-my":245,"./ms-my.js":245,"./ms.js":246,"./my":247,"./my.js":247,"./nb":248,"./nb.js":248,"./ne":249,"./ne.js":249,"./nl":251,"./nl-be":250,"./nl-be.js":250,"./nl.js":251,"./nn":252,"./nn.js":252,"./pa-in":253,"./pa-in.js":253,"./pl":254,"./pl.js":254,"./pt":256,"./pt-br":255,"./pt-br.js":255,"./pt.js":256,"./ro":257,"./ro.js":257,"./ru":258,"./ru.js":258,"./sd":259,"./sd.js":259,"./se":260,"./se.js":260,"./si":261,"./si.js":261,"./sk":262,"./sk.js":262,"./sl":263,"./sl.js":263,"./sq":264,"./sq.js":264,"./sr":266,"./sr-cyrl":265,"./sr-cyrl.js":265,"./sr.js":266,"./ss":267,"./ss.js":267,"./sv":268,"./sv.js":268,"./sw":269,"./sw.js":269,"./ta":270,"./ta.js":270,"./te":271,"./te.js":271,"./tet":272,"./tet.js":272,"./th":273,"./th.js":273,"./tl-ph":274,"./tl-ph.js":274,"./tlh":275,"./tlh.js":275,"./tr":276,"./tr.js":276,"./tzl":277,"./tzl.js":277,"./tzm":279,"./tzm-latn":278,"./tzm-latn.js":278,"./tzm.js":279,"./uk":280,"./uk.js":280,"./ur":281,"./ur.js":281,"./uz":283,"./uz-latn":282,"./uz-latn.js":282,"./uz.js":283,"./vi":284,"./vi.js":284,"./x-pseudo":285,"./x-pseudo.js":285,"./yo":286,"./yo.js":286,"./zh-cn":287,"./zh-cn.js":287,"./zh-hk":288,"./zh-hk.js":288,"./zh-tw":289,"./zh-tw.js":289};i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=576},591:function(e,t){e.exports={_args:[[{raw:"vue-chartjs",scope:null,escapedName:"vue-chartjs",name:"vue-chartjs",rawSpec:"",spec:"latest",type:"tag"},"/home/slapec/dev/wimm-vue"]],_from:"vue-chartjs@latest",_id:"vue-chartjs@2.8.0",_inCache:!0,_installable:!0,_location:"/vue-chartjs",_nodeVersion:"8.2.1",_npmOperationalInternal:{host:"s3://npm-registry-packages",tmp:"tmp/vue-chartjs-2.8.0.tgz_1501833595058_0.7299696202389896"},_npmUser:{name:"apertureless",email:"juszczak.j@googlemail.com"},_npmVersion:"5.3.0",_phantomChildren:{},_requested:{raw:"vue-chartjs",scope:null,escapedName:"vue-chartjs",name:"vue-chartjs",rawSpec:"",spec:"latest",type:"tag"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/vue-chartjs/-/vue-chartjs-2.8.0.tgz",_shasum:"1e047f341f3e51aafe6a0cb84cfd201798b3dbbf",_shrinkwrap:null,_spec:"vue-chartjs",_where:"/home/slapec/dev/wimm-vue",author:{name:"Jakub Juszczak",email:"jakub@posteo.de"},babel:{presets:["es2015"]},browserify:{transform:["babelify"]},bugs:{url:"https://github.com/apertureless/vue-chartjs/issues"},contributors:[{name:"Thorsten Lünborg",url:"https://github.com/LinusBorg"},{name:"Juan Carlos Alonso",url:"https://github.com/jcalonso"}],dependencies:{lodash:"^4.17.4"},description:"vue.js wrapper for chart.js",devDependencies:{"babel-cli":"^6.24.1","babel-core":"^6.25.0","babel-loader":"^7.0.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-2":"^6.24.1","babel-runtime":"^6.23.0",chai:"^3.5.0","chart.js":"^2.6.0",chromedriver:"^2.28.0","connect-history-api-fallback":"^1.1.0","cross-env":"^3.2.4","cross-spawn":"^5.1.0","css-loader":"^0.28.0",eslint:"^3.19.0","eslint-config-standard":"^10.2.1","eslint-friendly-formatter":"^2.0.7","eslint-loader":"^1.7.1","eslint-plugin-html":"^2.0.1","eslint-plugin-import":"^2.2.0","eslint-plugin-node":"^4.2.2","eslint-plugin-promise":"^3.5.0","eslint-plugin-standard":"^3.0.1","eventsource-polyfill":"^0.9.6",express:"^4.15.2","extract-text-webpack-plugin":"^1.0.1","file-loader":"^0.10.1","function-bind":"^1.0.2","html-webpack-plugin":"^2.28.0","http-proxy-middleware":"^0.17.4","inject-loader":"^3.0.0","isparta-loader":"^2.0.0","jasmine-core":"^2.5.2","json-loader":"^0.5.4",karma:"^1.5.0","karma-coverage":"^1.1.1","karma-jasmine":"^1.0.2","karma-mocha":"^1.2.0","karma-phantomjs-launcher":"^1.0.4","karma-sinon-chai":"^1.2.0","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.30","karma-webpack":"1.8.1",lolex:"^1.6.0",mocha:"^3.1.0",nightwatch:"^0.9.14",ora:"^1.2.0","phantomjs-prebuilt":"^2.1.13","selenium-server":"^3.3.1",shelljs:"^0.7.7",sinon:"^2.1.0","sinon-chai":"^2.9.0","url-loader":"^0.5.8",vue:"^2.4.2","vue-hot-reload-api":"^2.1.0","vue-html-loader":"^1.2.4","vue-loader":"^12.2.2","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.4.2",webpack:"^1.13.2","webpack-dev-middleware":"^1.10.1","webpack-hot-middleware":"^2.17.1","webpack-merge":"1.1.1"},directories:{},dist:{integrity:"sha512-HCi6jOPWo6jbbwEoVqCl+NG9TX1YQe+Tw5H4Dll7eo/3oWrsXWrs8mOU39uR5LR0N9XpKz2jAqfXiz2jmTAgaA==",shasum:"1e047f341f3e51aafe6a0cb84cfd201798b3dbbf",tarball:"https://registry.npmjs.org/vue-chartjs/-/vue-chartjs-2.8.0.tgz"},engines:{node:">=6.9.0"},files:["src","dist","es"],gitHead:"60f87e72ae9785975826986b697f42a41327b3c1",greenkeeper:{ignore:["extract-text-webpack-plugin","karma-webpack","webpack","webpack-merge"]},homepage:"http://vue-chartjs.org","jsnext:main":"es/index.js",keywords:["ChartJs","Vue","Visualisation","Wrapper","Charts"],license:"MIT",main:"dist/vue-chartjs.js",maintainers:[{name:"apertureless",email:"juszczak.j@googlemail.com"}],module:"es/index.js",name:"vue-chartjs",optionalDependencies:{},peerDependencies:{"chart.js":"^2.6.0",vue:"^2.4.2"},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/apertureless/vue-chartjs.git"},scripts:{build:"yarn run release && yarn run build:es","build:es":"cross-env BABEL_ENV=es babel src --out-dir es",dev:"node build/dev-server.js",e2e:"node test/e2e/runner.js",lint:"eslint --ext .js,.vue src test/unit/specs test/e2e/specs",prepublish:"yarn run lint && yarn run test && yarn run build",release:"webpack --progress --hide-modules --config  ./build/webpack.release.js && NODE_ENV=production webpack --progress --hide-modules --config  ./build/webpack.release.min.js && webpack --progress --hide-modules --config  ./build/webpack.release.full.js && NODE_ENV=production webpack --progress --hide-modules --config  ./build/webpack.release.full.min.js",test:"npm run unit",unit:"karma start test/unit/karma.conf.js --single-run"},unpkg:"dist/vue-chartjs.full.min.js",version:"2.8.0",warnings:[{code:"ENOTSUP",required:{node:">=6.9.0"},pkgid:"vue-chartjs@2.8.0"},{code:"ENOTSUP",required:{node:">=6.9.0"},pkgid:"vue-chartjs@2.8.0"}]}},592:function(e,t,n){function i(e){n(440)}var r=n(2)(n(298),n(609),i,null,null);e.exports=r.exports},593:function(e,t,n){function i(e){n(439)}var r=n(2)(n(299),n(608),i,null,null);e.exports=r.exports},594:function(e,t,n){function i(e){n(436)}var r=n(2)(n(301),n(605),i,null,null);e.exports=r.exports},595:function(e,t,n){function i(e){n(446)}var r=n(2)(n(302),n(616),i,null,null);e.exports=r.exports},596:function(e,t,n){function i(e){n(434)}var r=n(2)(n(303),n(603),i,null,null);e.exports=r.exports},597:function(e,t,n){function i(e){n(435)}var r=n(2)(n(305),n(604),i,null,null);e.exports=r.exports},598:function(e,t,n){function i(e){n(441)}var r=n(2)(n(307),n(610),i,null,null);e.exports=r.exports},599:function(e,t,n){function i(e){n(444)}var r=n(2)(n(308),n(614),i,null,null);e.exports=r.exports},600:function(e,t,n){function i(e){n(438)}var r=n(2)(n(309),n(607),i,null,null);e.exports=r.exports},601:function(e,t,n){function i(e){n(447)}var r=n(2)(n(310),n(618),i,null,null);e.exports=r.exports},602:function(e,t,n){function i(e){n(437)}var r=n(2)(n(311),n(606),i,null,null);e.exports=r.exports},603:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"item-list-header"}},[n("div",{staticClass:"header-label"},[e._v(e._s(e.currentDateFormatted))]),e._v(" "),n("button",{staticClass:"i",class:{"i-mode_edit":!e.isEditing,"i-close":e.isEditing},attrs:{disabled:e.isEditingDisabled},on:{click:function(t){e.toggleEditing()}}}),e._v(" "),n("button",{staticClass:"i",class:{"i-delete":!e.isDeleting,"i-close":e.isDeleting},attrs:{disabled:e.isDeletingDisabled},on:{click:function(t){e.toggleDeleting()}}}),e._v(" "),n("div",{staticClass:"fill"}),e._v(" "),e.canNavigate?n("button",{staticClass:"i i-keyboard_arrow_left",on:{click:function(t){e.seekMonth(-1)}}}):e._e(),e._v(" "),e.canNavigate?n("button",{staticClass:"i i-navigate_next",on:{click:function(t){e.seekMonth(1)}}}):e._e(),e._v(" "),e.isDeleting?n("button",{staticClass:"i i-check",attrs:{id:"delete-confirm"},on:{click:function(t){e.deleteSelected()}}}):e._e()])},staticRenderFns:[]}},604:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"sidebar"}},[n("ol",{class:{visible:e.visible}},[n("router-link",{attrs:{tag:"li",to:{name:"index"}}},[e._v("Item overview")]),e._v(" "),n("router-link",{attrs:{tag:"li",to:{name:"graph:sum"}}},[e._v("Total sum over time")]),e._v(" "),n("router-link",{attrs:{tag:"li",to:{name:"grap:tags"}}},[e._v("Tag sum over time")]),e._v(" "),n("router-link",{attrs:{tag:"li",to:{name:"import-export"}}},[e._v("Import / export")])],1),e._v(" "),e.visible?n("div",{staticClass:"overlay-close",on:{click:function(t){e.toggle()}}}):e._e()])},staticRenderFns:[]}},605:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"item-list"}},[n("div",{attrs:{id:"date-items"}},e._l(e.dates,function(e,t){return n("date-items",{key:e.date,attrs:{index:t}})})),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.canNavigate,expression:"canNavigate"}],attrs:{id:"main-item-form"}},[n("item-form",{attrs:{id:"item-form-0",date:e.today,disabled:e.isSubmitting},on:{dateChanged:e.setToday,submit:e.doSubmit}}),e._v(" "),n("button",{staticClass:"i i-add",attrs:{type:"submit",form:"item-form-0",disabled:e.isSubmitting}})],1)])])},staticRenderFns:[]}},606:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"header"}},[n("button",{staticClass:"i i-menu",attrs:{id:"menu-btn"},on:{click:function(t){e.toggleSidebar()}}}),e._v(" "),n("router-view",{attrs:{name:"header",id:"header-router-view"}})],1)},staticRenderFns:[]}},607:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"total-sum"}},[n("div",{staticClass:"content"},[n("line-chart",{attrs:{chartData:e.chart,styles:{height:"100%"}}})],1),e._v(" "),n("settings-bar",{attrs:{visible:e.isCalendarVisible},on:{hide:e.hideUi}},[n("calendar",{attrs:{dateFrom:e.dateFrom,dateTo:e.dateTo,interval:e.interval},on:{change:e.onChanged}}),e._v(" "),n("button",{staticClass:"do-query",on:{click:e.doQuery}},[e._v("Query")])],1)],1)])},staticRenderFns:[]}},608:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header-label"},[e._v("Import / export")]),e._v(" "),n("div",{staticClass:"fill"})])}]}},609:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"import-export"}},[n("div",{staticClass:"content"},[n("div",[n("h1",[e._v("Export")]),e._v(" "),n("div",[n("form",{on:{submit:function(t){t.preventDefault(),e.doExportWrapped(t)}}},[n("calendar",{attrs:{dateFrom:e.dateFrom,dateTo:e.dateTo},on:{change:e.onChanged}}),e._v(" "),n("button",{attrs:{disabled:e.isExporting}},[e._v("\n              Export as CSV\n              "),e.isExporting?n("span",[e._v(e._s(e.progress))]):e._e()])],1)])]),e._v(" "),n("div",[n("h1",[e._v("Import")]),e._v(" "),e._m(0),e._v(" "),n("div",[n("form",{on:{submit:function(t){t.preventDefault(),e.doImportWrapped(t)}}},[n("div",[n("input",{attrs:{type:"file"},on:{change:function(t){e.setImportedFile(t.target.files[0])}}})]),e._v(" "),n("button",{attrs:{disabled:!e.importedFile||e.isImporting}},[e._v("\n              Import CSV\n              "),e.isImporting?n("span",[e._v(e._s(e.importProgress)+" ")]):e._e()]),e._v(" "),e.importError?n("div",[e._v("\n              Import failed for some with this reason:\n              "),n("pre",[e._v(e._s(e.importError))])]):e._e(),e._v(" "),e.importCount?n("div",[e._v("\n              Imported "+e._s(e.importCount)+" items\n            ")]):e._e()])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Only CSV files are supported. Example of the required structure:")]),e._v(" "),n("pre",[e._v("date,price,tags"),n("br"),e._v('2017-08-11,-1200,"food,junk,chips,doritos"')])])}]}},610:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"tag-sum"}},[n("div",{staticClass:"content"},[n("horizontal-bar-chart",{attrs:{chartData:e.chart,styles:{height:"100%"},options:{}}})],1),e._v(" "),n("settings-bar",{attrs:{visible:e.isCalendarVisible},on:{hide:e.hideUi}},[n("calendar",{attrs:{dateFrom:e.dateFrom,dateTo:e.dateTo},on:{change:e.onChanged}}),e._v(" "),n("label",{attrs:{for:"tag-sum-tag-count"}},[e._v("Top tags")]),e._v(" "),n("input",{attrs:{id:"tag-sum-tag-count",type:"number",min:"0",step:"1"},domProps:{value:e.tagCount},on:{input:function(t){e.onChanged("tagCount",t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"tag-sum-negative-first"}},[e._v("Negative first")]),e._v(" "),n("input",{attrs:{id:"tag-sum-negative-first",type:"checkbox"},domProps:{checked:e.negativeFirst},on:{change:function(t){e.onChanged("negativeFirst",t.target.checked)}}}),e._v(" "),n("label",{attrs:{for:"tag-sum-tags"}},[e._v("Filter tags")]),e._v(" "),n("tag-input",{attrs:{id:"tag-sum-tags",choices:e.autocomplete(),tags:e.tags}}),e._v(" "),n("button",{staticClass:"do-query",on:{click:e.doQuery}},[e._v("Query")])],1)],1)])},staticRenderFns:[]}},611:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("sidebar"),e._v(" "),n("div",{class:{visible:e.spinnerVisible},attrs:{id:"spinner"}}),e._v(" "),n("div",{class:{visible:e.overlayVisible},attrs:{id:"overlay"}}),e._v(" "),e.isInitializing?e._e():n("header-bar"),e._v(" "),e.isInitializing?e._e():n("router-view",{attrs:{id:"default-router-view"}})],1)},staticRenderFns:[]}},612:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"tags",class:{conflict:e.conflict,empty:e.pTags.length,disabled:e.disabled},on:{click:e.focusInput}},[e._l(e.pTags,function(t){return n("li",{key:t,staticClass:"tag",on:{click:function(n){e.remove(n,t)}}},[e._v("\n        "+e._s(t)+"\n    ")])}),e._v(" "),n("li",{staticClass:"tag-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentTag,expression:"currentTag"}],ref:"tagInput",attrs:{disabled:e.disabled},domProps:{value:e.currentTag},on:{keydown:e.keydown,input:[function(t){t.target.composing||(e.currentTag=t.target.value)},e.input],blur:e.add}}),e._v(" "),e.choiceListVisible?n("ul",{ref:"choiceList",class:{dropup:e.dropup}},e._l(e.pChoices,function(t,i){return n("li",{ref:"choices",refInFor:!0,class:{"tag-choice-selected":i===e.selectedIndex},on:{mousedown:function(t){e.deferBlur=!0},mouseup:function(n){e.add(n,t)},mouseover:function(t){e.selectedIndex=i}}},[e._v("\n                "+e._s(t)+"\n            ")])})):e._e()])],2)},staticRenderFns:[]}},613:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"item-form",on:{submit:function(t){t.preventDefault(),e.submit(t)}}},[n("tags",{attrs:{choices:e.autocomplete(),tags:e.pTags,disabled:e.disabled},on:{blur:function(t){e.focusPrice()}}}),e._v(" "),e.datehidden?e._e():n("input",{staticClass:"date numeric",attrs:{type:"text",autocomplete:"off",placeholder:"Date",required:"",disabled:e.disabled},domProps:{value:e.pDate},on:{input:function(t){e.dateChanged(t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pPrice,expression:"pPrice"}],ref:"price",staticClass:"price numeric",attrs:{type:"number",step:"0.01",autocomplete:"off",placeholder:"Price",required:"",disabled:e.disabled},domProps:{value:e.pPrice},on:{input:function(t){t.target.composing||(e.pPrice=t.target.value)}}})],1)},staticRenderFns:[]}},614:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header-label"},[e._v("Tag sum over time")]),e._v(" "),n("div",{staticClass:"fill"}),e._v(" "),n("button",{staticClass:"i i-date_range",on:{click:e.toggleCalendar}})])},staticRenderFns:[]}},615:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-bar"},[n("div",{staticClass:"bar",class:{visible:e.visible}},[e._t("default")],2),e._v(" "),e.visible?n("div",{staticClass:"overlay-close",on:{click:e.hide}}):e._e()])},staticRenderFns:[]}},616:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"date-items"},[n("div",{staticClass:"numeric date-items-head"},[n("div",{staticClass:"date"},[e._v(e._s(e.date))]),e._v(" "),n("div",[e._v(e._s(e._f("money")(e.dailyExpense)))])]),e._v(" "),n("ul",{staticClass:"items"},e._l(e.items,function(t,i){return n("li",{key:t.id,class:{selected:e.isSelected(t.id),submitting:e.submitting[t.id]},attrs:{id:"item-"+t.id},on:{click:function(n){e.selectSelf(t.id)}}},[n("div",{staticClass:"item"},[e.editors[t.id]?[n("item-form",{attrs:{id:"item-form-"+t.id,tags:t.tags,price:t.price,date:t.date,disabled:e.submitting[t.id]},on:{submit:function(n){e.submit(i,t,n)}}})]:[n("div",{staticClass:"tag-list"},e._l(t.tags,function(t){return n("span",[e._v(e._s(t))])})),e._v(" "),n("span",{staticClass:"numeric price",class:{positive:t.price>0}},[e._v("\n      "+e._s(e._f("money")(t.price))+"\n      ")])]],2),e._v(" "),e.isDeleting||e.isEditing?n("div",{staticClass:"button-group"},[e.isDeleting?n("button",{staticClass:"i selected",class:{"i-check_box_outline_blank":!e.isSelected(t.id),"i-check_box":e.isSelected(t.id)}}):e._e(),e._v(" "),e.isEditing?n("button",{staticClass:"i",class:{"i-mode_edit":!e.editors[t.id],"i-close":e.editors[t.id]},on:{click:function(n){e.editSelf(t.id,n)}}}):e._e(),e._v(" "),e.editors[t.id]?n("button",{staticClass:"i i-save",attrs:{type:"submit",form:"item-form-"+t.id,disabled:e.submitting[t.id]}}):e._e()]):e._e()])}))])},staticRenderFns:[]}},617:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"calendar"},[n("label",{attrs:{for:"calendar-date-from"}},[e._v("Date from")]),e._v(" "),n("input",{attrs:{id:"calendar-date-from",type:"date"},domProps:{value:e.dateFrom},on:{input:function(t){e.onChanged("dateFrom",t.target.value)}}}),e._v(" "),n("label",{attrs:{for:"calendar-date-to"}},[e._v("Date to")]),e._v(" "),n("input",{attrs:{id:"calendar-date-to",type:"date"},domProps:{value:e.dateTo},on:{input:function(t){e.onChanged("dateTo",t.target.value)}}}),e._v(" "),e.showInterval?n("label",{attrs:{for:"calendar-interval"}},[e._v("Interval")]):e._e(),e._v(" "),e.showInterval?n("select",{attrs:{id:"calendar-interval"},domProps:{value:e.interval},on:{input:function(t){e.onChanged("interval",t.target.value)}}},[n("option",{attrs:{value:"days"}},[e._v("Days")]),e._v(" "),n("option",{attrs:{value:"weeks"}},[e._v("Weeks")]),e._v(" "),n("option",{attrs:{value:"months"}},[e._v("Months")]),e._v(" "),n("option",{attrs:{value:"years"}},[e._v("Years")])]):e._e()])},staticRenderFns:[]}},618:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header-label"},[e._v("Total sum over time")]),e._v(" "),n("div",{staticClass:"fill"}),e._v(" "),n("button",{staticClass:"i i-date_range",on:{click:e.toggleCalendar}})])},staticRenderFns:[]}},70:function(e,t,n){"use strict";var i=n(7),r=n(9),s=n(315),a=n(320),o=n(318),u=n(317),c=n(319),l=n(321),d=n(316);i.default.use(r.d),t.a=new r.d.Store({modules:{app:s.a,importExport:d.a,itemList:u.a,tags:c.a,tagSum:o.a,totalSum:a.a,ui:l.a}})}},[314]);
//# sourceMappingURL=app.0f1c5b9bf74382c36222.js.map